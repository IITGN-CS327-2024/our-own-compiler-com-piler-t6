Program -> Statements
Statements -> Statement Statements | ε
Statement -> VariableDecl | ImmutableVariableDecl | FunctionDecl | Loop | Conditional | ExceptionHandling | Comment | Assignment | UnaryOperation | PrintFunction | InputFunction | ArrayDecl | ListDecl | TupleDecl | DictionaryDecl | Block

VariableDecl -> VariableName LPAREN DataType RPAREN EQUALTO Expression ENDOST
ImmutableVariableDecl -> "immute" VariableName LPAREN DataType RPAREN EQUALTO Literal ENDOST
DataType -> "integer" | "character" | "floatpoint" | "textwave" | "flag"

Expression -> SimpleExpression | LogicalExpr | AccessExpression | DictionaryAccess
SimpleExpression -> Term | SimpleExpression BinaryOperator Term
Term -> Factor | LPAREN Expression RPAREN
Factor -> VariableName | Number | FloatNumber | "\"" AnyText "\"" | "True" | "False"
BinaryOperator -> "+" | "-" | "*" | "/" | "%" | "^"
LogicalExpr -> Expression LogicalOperator Expression
LogicalOperator -> "&&" | "$$" | "!"

AccessExpression -> VariableName AccessOperator
AccessOperator -> LSQUARE Number RSQUARE | LSQUARE Number COLON Number RSQUARE
DictionaryAccess -> VariableName LSQUARE Key RSQUARE

Number -> Digit Number | Digit
FloatNumber -> Number DOT Number
Literal -> Number | FloatNumber | "\"" AnyText "\"" | "True" | "False"
Digit -> "0" | "1" | "2" | ... | "9"

FunctionDecl -> "fn" FunctionName LPAREN Arguments RPAREN Block
FunctionName -> VariableName
Arguments -> Argument ArgumentsRest | ε
ArgumentsRest -> COMMA Argument ArgumentsRest | ε
Argument -> VariableName LPAREN DataType RPAREN

Conditional -> GivenClause ElseGivenClause OtherwiseClause
GivenClause -> "Given" LPAREN Expression RPAREN Block
ElseGivenClause -> "ElseGiven" LPAREN Expression RPAREN Block | ε
OtherwiseClause -> "Otherwise" Block | ε

Loop -> WhileLoop | IterateLoop | RangeLoop
WhileLoop -> "while" LPAREN Condition RPAREN Block
IterateLoop -> "iterate" LPAREN VariableName LPAREN DataType RPAREN EQUALTO Expression ENDOST "through" ListName ENDOST RPAREN Block
RangeLoop -> "iterate" LPAREN VariableName LPAREN DataType RPAREN EQUALTO Expression ENDOST "through" "range" LPAREN Expression "..." Expression COMMA Expression RPAREN ENDOST RPAREN Block
LoopStatements -> LoopStatement LoopStatements | ε
LoopStatement -> Statement | LoopInterrupt | LoopResume
LoopInterrupt -> "interrupt" ENDOST
LoopResume -> "resume" ENDOST

ExceptionHandling -> StriveBlock CaptureBlock
StriveBlock -> "strive" Block
CaptureBlock -> "capture" Block | "capture" Block

UnaryOperation -> VariableName "++" ENDOST | VariableName "--" ENDOST
Assignment -> VariableName EQUALTO Expression ENDOST | VariableName AssignmentOperator Expression ENDOST
AssignmentOperator -> "+=" | "-=" | "*=" | "/=" | "%="

ArrayDecl -> VariableName LPAREN DataType COMMA Number RPAREN EQUALTO LCURL Elements RCURL
ListDecl -> VariableName EQUALTO LSQUARE Elements RSQUARE
TupleDecl -> VariableName EQUALTO LPAREN Elements RPAREN
DictionaryDecl -> VariableName EQUALTO LCURL KeyValues RCURL
Elements -> Element Elements | ε
Element -> Expression
KeyValues -> KeyValue KeyValues | ε
KeyValue -> Expression COLON Expression

ArrayMethods -> ArrayDim | ArrayExchange | ArrayGetIdx | ArraySort | ArrayTail | ArrayHead
ListMethods -> ListDim | ListExchange | ListGetIdx | ListSort | ListTail | ListHead | ListAdd | ListRemove
TupleMethods -> TupleDim | TupleExchange | TupleGetIdx | TupleSort | TupleTail | TupleHead
DictionaryMethods -> DictionarySet

ArrayDim -> VariableName DOT "dim" LPAREN RPAREN
ArrayExchange -> VariableName DOT "exchange" LPAREN Number COMMA Element RPAREN
ArrayGetIdx -> VariableName DOT "getidx" LPAREN Element RPAREN
ArraySort -> VariableName DOT "sort" LPAREN SortOrder RPAREN
ArrayTail -> VariableName DOT "tail" LPAREN RPAREN
ArrayHead -> VariableName DOT "head" LPAREN RPAREN

ListAdd -> VariableName DOT "add" LPAREN Element RPAREN
ListRemove -> VariableName DOT "remove" LPAREN Number RPAREN

DictionarySet -> VariableName DOT "set" LPAREN Key COMMA Value RPAREN

SortOrder -> "Asc" | "Dsc"
Key -> Expression
Value -> Expression

VariableName -> Identifier
Identifier -> Letter | "_" | Identifier IdentifierDigits
IdentifierDigits -> Identifier Digit | Identifier Letter | ε
Letter -> "a" | "b" | "c" | ... | "z" | "A" | "B" | ... | "Z"

Comment -> SingleLineComment | MultiLineComment
SingleLineComment -> "#" AnyText "\n"
MultiLineComment -> "\"\"\"" AnyText "\"\"\""
AnyText -> AnyChar AnyText | ε
AnyChar -> Letter | Digit | AnySymbol
AnySymbol -> " " | "!" | "@" | "#" | ... (and so on for all printable characters)

PrintFunction -> "pendown" LPAREN FunctionArgs RPAREN
FunctionArg -> Expression
FunctionArgs -> FunctionArg | FunctionArg COMMA FunctionArgs

Block -> LCURL Statements RCURL
